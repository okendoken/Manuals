<!doctype html>  

<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ --> 
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="be-tarask" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame 
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Тэхнічны даведнік па Rails</title>
  <meta name="description" content="Тэхнічны даведнік па Rails">
  <meta name="author" content="Юрцэвіч Дзьмітры">

  <!--  Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Place favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
  <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="../apple-touch-icon.png">


  <!-- CSS : implied media="all" -->
  <link rel="stylesheet" href="../css/boilerplate.css?v=2">
  <link rel="stylesheet" href="../css/style.css?v=1">
  <link rel="stylesheet" href="../css/mktree.css?v=1">
  <link rel="stylesheet" href="../css/shCore.css?v=1">
  <link rel="stylesheet" href="../css/shThemeRDark.css?v=1">

  <!-- Uncomment if you are specifically targeting less enabled mobile browsers
  <link rel="stylesheet" media="handheld" href="css/handheld.css?v=2">  -->
 
  <!-- All JavaScript at the bottom, except for Modernizr which enables HTML5 elements & feature detects -->
  <script src="../js/libs/modernizr-1.6.min.js"></script>
  
  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body>

  <div id="container">
    <div id="index">
      <div id="main_index">
        <ul>
          <li><a href="../htmlRef/index.html">HTML</a></li>
          <li><a href="../cssRef/index.html">CSS</a></li>
          <li><a href="../jsRef/index.html">JS</a></li>
          <li><a href="../webRef/index.html">Web</a></li>
        </ul>
        <ul>
          <li><a href="../javaRef/index.html">Java</a></li>
        </ul>
        <ul>
          <li><a href="../rubyRef/index.html">Ruby</a></li>
          <li><a href="../railsRef/index.html">Rails</a></li>
        </ul>
        <ul>
          <li><a href="../gitRef/index.html">Git</a></li>
        </ul>
      </div>

      <div id="content">
        <ul class="mktree">
          <li><a href="#Links">Карысныя спасылкі</a>
            <ul>
              <li><a href="#Links_home">Хатняя старонка</a></li>
              <li><a href="#Links_api">API</a></li>
              <li><a href="#Links_refs">Даведнікі і кнігі</a></li>
              <li><a href="#Links_refs_casts">Railscast</a></li>
            </ul>
          </li>
          <li class="liOpen"><a href="#GettingStarted">Пачынаем</a>
            <ul>
              <li class="liOpen"><a href="#GettingStarted_what_is">Што такое Rails?</a>
                <ul>
                  <li><a href="#GettingStarted_what_is_MVC">Архітэктура MVC</a>
                    <ul>
                      <li><a href="#GettingStarted_what_is_MVC_Models">Мадэлі</a></li>
                      <li><a href="#GettingStarted_what_is_MVC_Views">Вью</a></li>
                      <li><a href="#GettingStarted_what_is_MVC_Controllers">Кантролеры</a></li>
                    </ul>
                  </li>
                  <li><a href="#GettingStarted_what_is_Components">Кампанэнты Rails</a>
                    <ul>
                      <li><a href="#GettingStarted_what_is_Components_Action_Pack">Action Pack</a></li>
                      <li><a href="#GettingStarted_what_is_Components_Action_Controller">Action Controller</a></li>
                      <li><a href="#GettingStarted_what_is_Components_Action_View">Action View</a></li>
                      <li><a href="#GettingStarted_what_is_Components_Action_Dispatch">Action Dispatch</a></li>
                      <li><a href="#GettingStarted_what_is_Components_Action_Mailer">Action Mailer</a></li>
                      <li><a href="#GettingStarted_what_is_Components_Active_Model">Active Model</a></li>
                      <li><a href="#GettingStarted_what_is_Components_Active_Record">Active Record</a></li>
                      <li><a href="#GettingStarted_what_is_Components_Active_Resource">Active Resource</a></li>
                      <li><a href="#GettingStarted_what_is_Components_Active_Support">Active Support</a></li>
                      <li><a href="#GettingStarted_what_is_Components_Railties">Railties</a></li>
                    </ul>
                  </li>
                  <li><a href="#GettingStarted_what_is_REST">REST</a></li>
                  
                </ul>
              </li>
              <li><a href="#GettingStarted_NewProject">Стварэньне новага праекту</a>
                <ul>
                  <li><a href="#GettingStarted_NewProject_InstallingRails">Усталяваньне Rails</a></li>
                  <li><a href="#GettingStarted_NewProject_BlogProject">Стварэньне блогу</a></li>
                  <li><a href="#GettingStarted_NewProject_InstallingGems">Усталяваньне патрэбных гемаў</a></li>
                  <li><a href="#GettingStarted_NewProject_ConfiguringDB">Наладжваньне базы даных</a>
                    <ul>
                      <li><a href="#GettingStarted_NewProject_ConfiguringDB_SQLite3">SQLite3</a></li>
                      <li><a href="#GettingStarted_NewProject_ConfiguringDB_MySQL">MySQL</a></li>
                      <li><a href="#GettingStarted_NewProject_ConfiguringDB_PostgreSQL">PostgreSQL</a></li>
                    </ul>
                  </li>
                  <li><a href="#GettingStarted_NewProject_CreatingDB">Стварэньне базы</a></li>
                  <li><a href="#GettingStarted_NewProject_StartingApp">Запуск праграмы</a></li>
                </ul>
              </li>
              <li><a href="#GettingStarted_Git">Кантроль вэрсій з Git</a></li>
              <li><a href="#GettingStarted_Deploying">Разгортваньне праграмы ў вытворчым асяродку</a></li>
              <li><a href="#GettingStarted_FastDevelopingWithScaffold">Хуткая распрацоўка пры дапамозе Scaffold</a></li>
            </ul>
          </li>
          <li class="liOpen"><a href="#Controllers">Кантролеры</a>
            <!--ul>
              <li><a href="#Views_LayoutsRendering">Макеты і візуалізацыя ў Rails</a></li>
              <li><a href="#Views_FormHelpers">Дапаможнікі формаў</a></li>
            </ul-->
          </li>
          <li class="liOpen"><a href="#Views">Вью</a>
            <ul>
              <li><a href="#Views_LayoutsRendering">Макеты і візуалізацыя ў Rails</a></li>
              <li><a href="#Views_FormHelpers">Дапаможнікі формаў</a></li>
            </ul>
          </li>
          <li class="liOpen"><a href="#Models">Мадэлі</a>
            <ul>
              <li class="liOpen"><a href="#Models_Migrations">Міграцыі</a>
                <ul>
                  <li><a href="#Models_Migrations_Creating">Стварэньне</a></li>
                  <li><a href="#Models_Migrations_Writing">Састаўленьне</a>
                    <ul>
                      <li><a href="#Models_Migrations_Writing_CreatingTable">Стварэньне табліцаў</a></li>
                      <li><a href="#Models_Migrations_Writing_ChangingTable">Зьмена табліцаў</a></li>
                      <li><a href="#Models_Migrations_Writing_Helpers">Дапаможнікі</a></li>
                      <li><a href="#Models_Migrations_Writing_DownMethod">Мэтад down</a></li>
                    </ul>
                  </li>
                  <li><a href="#Models_Migrations_Running">Выкананьне</a>
                    <ul>
                      <li><a href="#Models_Migrations_Running_Verbose">Вывад інфармацыі а хадзе міграцыі></a></li>
                    </ul>
                  </li>
                  <li><a href="#Models_Migrations_UsingModels">Выкарыстаньне мадэляў</a></li>
                  <li><a href="#Models_Migrations_Dumps">Адбіткі схемаў</a></li>
                </ul>
              </li>
              <li><a href="#Models_ValidationsCallbacks">Валідацыя і зваротныя выклікі</a></li>
              <li><a href="#Models_Associations">Асацыяцыі</a></li>
              <li><a href="#Models_Querying">Састаўленьне запытаў</a></li>
            </ul>
          </li>

        </ul>
      </div>
    </div>
    
    <article id="main">
      <header>
        Даведнік па Rails
      </header>

      <p class="intro">Гэты даведнік зьяўляецца кампіляцыяй матэрыялаў з розных крыніцаў для спрашчэньня пошуку найважнейшай інфармацыі па выкарыстаньні вэб-фрэймворка для Ruby&nbsp;&mdash; Ruby on Rails, але пры гэтым аўтар не адказвае за абсалютную дасканаласьць і актуальнасьць усёй інфармацыі, што тут зьмяшчаецца, а, адпаведна, і за магчымыя негатыўныя наступствы ад любога выкарыстаньня гэтай інфармацыі.</p>
      <p class="intro">Пры выяўленьні памылак, недакладнасьцей альбо пры наяўнасьці пажаданьняў нешта дадаць ці палепшыць зьвяртайцеся, калі ласка, праз форму зваротнай сувязі (статычная кнопка Feedback у правым баку экрана).</p>

      <p><a href="http://noteslog.com/post/netbeans-6-9-1-ruby-1-9-2-rails-3-0-0-debugging/">Rails debug in NetBeans</a></p>

      <aside class="warn">Гэты даведнік апісвае Rails 3.0. Некаторыя асаблівасьці, прыведзеныя тут, могуць не адпавядаць ранейшым вэрсіям Rails (а прыклады могуць не працаваць). Акрамя гэтага, для 3й вэрсіі Rails неабходна, каб быў усталяваны <a href="../rubyRef/index.html"><span class="term">Ruby</span></a> вэрсіі не ніжэй за 1.9.2. Будзьце ўважлівы!</aside>
      <section>
        <h1><a name="Links">Карысныя спасылкі</a></h1>
        <h2><a name="Links_home">Хатняя старонка</a></h2>
        <p><a href="http://rubyonrails.org/">http://rubyonrails.org</a></p>
        
        <aside>У якасьці IDE рэкамэндуецца карыстацца <a href="http://aptana.com/products/studio3/">Aptana Studio</a> (больш комплексная падтрымка Rails асяродку, але пакуль бэта і напрыклад кантэкстная дапамога працуе кепска) альбо <a href="http://netbeans.org/downloads/index.html">NetBeans</a> (на дадзены момант мусіць найлепшая падтрымка сярод бясплатных сродкаў).</aside>
        <h2><a name="Links_api">API</a></h2>
        <p>Ruby + Rails (вельмі добра рэалізаваны пошук): <a href="http://railsapi.com/doc/rails-v3.0.1_ruby-v1.9.2/">http://railsapi.com/doc/rails-v3.0.1_ruby-v1.9.2</a></p>
        <p><a href="http://api.rubyonrails.org/">http://api.rubyonrails.org</a></p>
        <p><a href="http://www.rubydoc.info/docs/rails/3.0.0/frames/">http://www.rubydoc.info/docs/rails/3.0.0/frames</a></p>
        
        <h2><a name="Links_refs">Даведнікі і кнігі</a></h2>
        <p><a href="http://guides.rubyonrails.org/">Галоўная старонка афіцыйных даведнікаў</a></p>
        <p><a href="http://railstutorial.org/book/">Вельмі добры вучэбнік</a></p>
        
        <h2><a name="Links_refs_casts">Railscast (відэа-урокі)</a></h2>
        <p><a href="http://railscasts.com/">http://railscasts.com</a></p>
      </section>
      
      <section>
        <h1><a name="GettingStarted">Пачынаем</a></h1>
        <div class="refs">
          <ul>
            <li><a href="http://guides.rubyonrails.org/getting_started.html">Guide</a></li>
          </ul>
        </div>
        
        <h2><a name="GettingStarted_what_is">Што такое Rails?</a></h2>
        <p>Rails&nbsp;&mdash; гэта фрэймворк распрацоўкі сеціўных праграм, напісаны на мове праграмаваньня <a href="../rubyRef/index.html"><span class="term">Ruby</span></a>. Ён спраектаваны такім чынам, каб зрабіць працэс стварэньня сеціўных праграм прасьцейшым, улічваючы тыя аспэкты, зь якімі вымушаны сутыкацца бальшыня распрацоўшчыкаў. Rails дазваляе пісаць менш коду, рашаючы пры тым больш задачаў, чым іншыя мовы ці фрэймворкі.</p>
        <p>Дадзены фрэймворк грунтуецца на дапушчэньні, што ў шэрагу магчымых рашэньняў заўсёды існуюць найлепшыя, і ён &laquo;заахвочвае&raquo; распрацоўшчыка да карыстаньня імі, і часам нават робіць &laquo;перашкоды&raquo; на шляху карыстаньня ня лепшымі з рашэньняў.</p>
        <p>Філязофія Rails уключае такія прынцыпы, як:
          <ul>
            <li>DRY (ад анг. <i>Don't Repeat Youself</i>, што азначае <i>не паўтарайце сябе</i>)&nbsp;&mdash; сьцвярджае, што пісаць шматкроць адзін і той жа код зьяўляецца кепскай рэччу.</li>
            <li>Дамоўленасьці па-над наладкамі&nbsp;&mdash; азначае, што ў Rails у шмат якіх выпадках ужо прадвызначана што і як трэба рабіць, замест таго, каб патрабаваць ад распрацоўшчыка вызначаць кожную дробязь праз файлы канфігурацыі.</li>
            <li><a href="#GettingStarted_what_is_REST"><span class="term">REST</span></a> зьяўляецца найлепшым шаблёнам (<i>pattern</i>) для сеціўных праграмаў&nbsp;&mdash; арганізацыя праграмаў вакол рэсурсаў і стандартных HTTP дзеясловаў прыводзіць да найхутчэйшага іх стварэньня.</li>
          </ul>
        </p>
        
        <h3><a name="GettingStarted_what_is_MVC">Архітэктура MVC</a></h3>
        <div class="refs">
          <ul>
            <li><a href="http://en.wikipedia.org/wiki/Model–view–controller">Wiki</a></li>
          </ul>
        </div>
        <figure style="float: right;">
          <img alt="Архітэктура MVC" title="Архітэктура MVC" src="../images/mvc.png"/>
          <figcaption class="imgcaption">Архітэктура MVC</figcaption>
        </figure>
        <p>У ядры Rails ляжыць архітэктурны патэрн Мадэль-Вью-Кантролер (ці скарочана MVC ад анг. <i>Model-View-Controller</i>), перавагамі каторага зьяўляюцца:
          <ul>
            <li>ізаляцыя бізнэс-лёгікі ад інтэрфэйсу;</li>
            <li>лёгкасьць утрымліваць код DRY;</li>
            <li>ясна дзе знаходзіцца код таго ці іншага тыпу, што палягчае будучую падтрымку коду.</li>
          </ul>
        </p>
        <p>У выпадку ўзаемадзеяньня з Rails-праграмаў браўзер дасылае запыт, яго атрымлівае вэб-сэрвер і перадасылае Rails-кантролеру (файлы ў тэчцы <code>app/controllers/</code>), каторы адказны за далейшую апрацоўку. У некаторых выпадках кантролер адразу ж згенерыць Rails-вью (файлы ў тэчцы <code>app/views/</code>), каторы ўяўляе зь сябе <a href="../htmlRef/index.html"><span class="term">HTML</span></a>-файл з убудаваным у яго <a href="../rubyRef/index.html"><span class="term">Ruby</span></a>-кодам&nbsp;&mdash; так званыя шаблёны вью (<i>view templates</i>). Больш верагодна, аднак, кантролер зьвернецца да Rails-мадэлі (файлы ў тэчцы <code>app/models/</code>)&nbsp;&mdash; Rails-аб&#39;ект, каторы прадстаўляе элемэнт праграмы (напрыклад, карыстальніка) і адказны за ўзаемадзеяньне з базай даных для атрыманьня інфармацыі па гэтаму элемэнту. Пасьля атрыманьня даных з мадэлі кантролер згенерыць вью, устаўляючы туды гэтыя даныя, і дашле атрыманы вью да браўзера для прадстаўленьня карыстальніку.</p>
        
        <h4><a name="GettingStarted_what_is_MVC_Models">Мадэлі</a></h4>
        <p>Мадэль утрымлівае даныя праграмы і правілы, па якім гэтыя даныя павінны апрацоўвацца. У выпадку Rails асноўнае выкарыстаньне мадэляў&nbsp;&mdash; кіраваньне правіламі атрыманьня інфармацыі з табліцы базы даных. У бальшыні выпадкаў адна мадэль праграмы будзе адпавядаць адной табліцэ базы даных. Асноўная маса бізнэс лёгікі праграмы таксама ўтрымліваецца ў мадэлях.</p>
        
        <h4><a name="GettingStarted_what_is_MVC_Views">Вью</a></h4>
        <p>Вью прадстаўляюць інтэрфэйс праграмы.</p>
        
        <h4><a name="GettingStarted_what_is_MVC_Controllers">Кантролеры</a></h4>
        <p>Кантролеры зьяўляюцца &laquo;клеям&raquo; паміж мадэляў і вью. У Rails яны адказваюць за апрацоўку запытаў ад браўзэраў, атрыманьне ў адпаведнасьці з тымі запытамі даных з мадэляў, і перадачу гэтых даных у вью для прадстаўленьня карыстальніку.</p>
        
        <h3><a name="GettingStarted_what_is_Components">Кампанэнты Rails</a></h3>
        <p>Rails уключае ў сябе шэраг асобных кампанэнтаў:
          <ul>
            <li>Action Pack
              <ul>
                <li>Action Controller</li>
                <li>Action View</li>
                <li>Action Dispatch</li>
              </ul>
            </li>
            <li>Action Mailer</li>
            <li>Active Model</li>
            <li>Active Record</li>
            <li>Active Resource</li>
            <li>Active Support</li>
            <li>Railties</li>
          </ul>
        </p>
        
        <h4><a name="GettingStarted_what_is_Components_Action_Pack">Action Pack</a></h4>
        <p>Гэта <a href="../rubyRef/index.html#Gems"><span class="term">гем</span></a>, каторы ўтрымлівае <a href="#GettingStarted_what_is_Components_Action_Controller"><cite>Action Controller</cite></a>, <a href="#GettingStarted_what_is_Components_Action_View"><cite>Action View</cite></a> і <a href="#GettingStarted_what_is_Components_Action_Dispatch"><cite>Action Dispatch</cite></a>&nbsp;&mdash; &laquo;VC&raquo; частку з &laquo;MVC&raquo;.</p>
        
        <h4><a name="GettingStarted_what_is_Components_Action_Controller">Action Controller</a></h4>
        <p>Гэта кампанэнт, які кіруе <a href="#GettingStarted_what_is_MVC_Controllers">кантролерамі</a>. Апрацоўвае запыты да Rails-праграмы, вымае зь іх парамэтры і накіроўвае запыты да адпаведных дзеяў (<i>actions</i>&nbsp;&mdash; пад такім агульным паняцьцем разумеюцца мэтады кантролераў). Таксама прадстаўляе такія сэрвісы, як кіраваньне сэсіямі і перанакіраваньнямі, візуалізацыя шаблёнаў.</p>
        
        <h4><a name="GettingStarted_what_is_Components_Action_View">Action View</a></h4>
        <p>Кіруе <a href="#GettingStarted_what_is_MVC_Views">вью</a> праграмы. Па-змоўчаньні можа ствараць <a href="../htmlRef/index.html"><span class="term">HTML</span></a>- і <abbr class="term" title="eXtensible Markup Language">XML</abbr>-вынік. Кіруе шіблёнамі вью, улучна з укладзенымі шаблёнамі (<mark><i>nested templates</i>-спасылка на разьдзел</mark>) і часткамі-шаблёнамі (<mark><i>partial templates</i>-спасылка на разьдзел</mark>), а таксама ўключае ў сябе ўбудаваную падтрымку <a href="http://en.wikipedia.org/wiki/AJAX"><span class="term">AJAX</span></a>.</p>
        
        <h4><a name="GettingStarted_what_is_Components_Action_Dispatch">Action Dispatch</a></h4>
        <p>Адказвае за разводку вэб-запытаў і накаріваньне іх па жаданьню распрацоўшчыка.</p>
        
        <h4><a name="GettingStarted_what_is_Components_Action_Mailer">Action Mailer</a></h4>
        <p>Фрэймворк для пабудовы паштовага сэрвісу. Адказвае за атрыманьне, апрацоўку ўваходных лістоў, а таксама за адсылку простых ці складаных лістоў на базе гнуткіх шаблёнаў.</p>
        
        <h4><a name="GettingStarted_what_is_Components_Active_Model">Active Model</a></h4>
        <p>Забяспечвае інтрэрфэйс паміж сэрвісамі <a href="#GettingStarted_what_is_Components_Action_Pack"><cite>Action Pack</cite></a> і <a href="http://en.wikipedia.org/wiki/Object-relational_mapping"><span class="term">ORM</span></a>-гемамі, як напр. <a href="#GettingStarted_what_is_Components_Active_Record"><cite>Active Record</cite></a>.</p>
        
        <h4><a name="GettingStarted_what_is_Components_Active_Record">Active Record</a></h4>
        <p>Зьяўляецца базай для пабудовы <a href="#GettingStarted_what_is_MVC_Models">мадэляў</a>. Забяспечвае незалежнасьць ад пэўнай рэалізацыі базы даных, базавую <a href="http://en.wikipedia.org/wiki/Create,_read,_update_and_delete"><span class="term">CRUD</span></a>-функцыянальнасьць, пашыраныя магчымасьці пошуку, магчымасьці злучаць мадэлі паміж сабой і іншыя.</p>
        
        <h4><a name="GettingStarted_what_is_Components_Active_Resource">Active Resource</a></h4>
        <p>Прадстаўляе фрэймворк сувязі паміж бізнэс-аб&#39;ектамі і RESTful вэб-сэрвісамі праз <a href="http://en.wikipedia.org/wiki/Create,_read,_update_and_delete"><span class="term">CRUD</span></a>-сэмантыку.</p>
        
        <h4><a name="GettingStarted_what_is_Components_Active_Support">Active Support</a></h4>
        <p>Пашыраная бібліятэка дапаможных клясаў Ruby, каторыя выкарыстоўваюцца як ядром Rails, так і праграмай.</p>
        
        <h4><a name="GettingStarted_what_is_Components_Railties">Railties</a></h4>
        <p>Ядро Rails, каторае спалучае разам розныя фрэймворкі і ўбудовы.</p>
        
        <h3><a name="GettingStarted_what_is_REST">REST</a></h3>
        <div class="refs">
          <ul>
            <li><a href="http://www.petefreitag.com/item/431.cfm">REST vs SOAP</a></li>
            <li><a href="http://www.xfront.com/REST-Web-Services.html">xfront.com</a></li>
            <li><a href="http://www.infoq.com/articles/rest-introduction/">Brief Intro</a></li>
            <li><a href="http://bitworking.org/news/373/An-Introduction-to-REST/">Intro</a></li>
            <li><a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">Wiki</a></li>
            <li><a href="http://ajaxpatterns.org/RESTful_Service">ajaxpatterns.org</a></li>
            <li><a href="http://www.infoq.com/articles/webber-rest-workflow">REST workflow</a></li>
          </ul>
        </div>        
        <p>REST зьяўляецца абрэвіятураў ад ангельскага <i>Representational State Transfer</i> (перадача прадстаўнічага стану) і зьяўляецца асновай RESTful архітэктуры. Лічыцца, што ўпершыню гэты архітэктурны прынцып быў сфармуляваны ў <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm">доктарскай дысэртацыі Роя Філдзінга</a>. У Rails ужываньне REST зводзіцца да 2-х галоўных прынцыпаў:
          <ul>
            <li>выкарыстаньне ідэнтыфікатараў рэсурсаў, як напр. URL'аў, для прадстаўленьня рэсурсаў;</li>
            <li>перадача &laquo;прадстаўнічага&raquo; стану рэсурсу паміж кампанэнтамі сыстэмы.</li>
          </ul>
        </p>
        <p>Напр., запыт кшталту:</p>
        <p><code>DELETE /photos/17</code></p>
        <p>будзе зразумелы ў Rails як зьвяртаньне да фота-рэсурсу з ідэнтыфікатарам 17 і пазначэньне пры гэтым пажаданай апэрацыі&nbsp;&mdash; выдаленьне гэтага рэсурсу. REST зьяўляецца натуральным стылем для архітэктуры сеціўных праграмаў і Rails рэалізуе яго ў сваім нутры даволі празрыста, пазбаўляючы распрацоўшчыка ад неабходнасьці паглыбляцца ў складаныя аспэкты RESTful-архітэктуры.</p>
      
        <h2><a name="GettingStarted_NewProject">Стварэньне новага праекту</a></h2>
        
        <h3><a name="GettingStarted_NewProject_InstallingRails">Усталяваньне Rails</a></h3>
        <p>Перад тым, як ствараць Rails-праект, трэба ўсталяваць уласна Rails:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        $ gem install rails
        ]]></script>
        
        <h3><a name="GettingStarted_NewProject_BlogProject">Стварэньне блогу</a></h3>
        <p>Пасьля ўсталяваньня Rails можна ствараць новую праграму, напрыклад блог, папярэдне перайшоўшы ў тэчку, прызначаную для Rails-праектаў:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        $ mkdir projects
        $ cd projects
        $ rails new blog
        ]]></script>
        <p>Апошняя каманда створыць шкілет Rails-праекту пад назвай <i>Blog</i> у тэчцы <code>blog</code>. Гэты шкілет уяўляе зь сябе пэўную структуру файлаў і тэчак, аднолькавую для ўсіх Rails-праектаў, што зьяўляецца вялікім плюсам Rails&nbsp;&mdash; унівэрсальная структура файлаў і тэчак усіх Rails-праектаў значна палягчае іх падтрымку нават тымі распрацоўшчыкамі, каторыя першапачаткова ня ўдзельнічалі ў іх распрацоўцы. Разгледзем падрабязьней гэтую структуру:
          <table>
            <caption>Структура шкілету Rails-праграмы</caption>
            <thead>
              <tr><th>Файл/Тэчка</th> <th>Прызначэньне</th></tr>
            </thead>
            <tbody>
              <tr><td><code>app/</code></td> <td>Уласна код, уключаючы мадэлі, вью, кантролеры і хэлперы.</td></tr>
              <tr><td><code>config/</code></td> <td>Наладкі: маршруты (<i>routes</i>), база даных, інтэрнацыяналізацыя і інш.</td></tr>
              <tr><td><code>db/</code></td> <td>Файлы маніпуляцыяў базай даных. Утрымлівае цяперашнюю схему, файлы міграцыі даных і першапачатковай ініцыялізацыі базы.</td></tr>
              <tr><td><code>doc/</code></td> <td>Дакумэнтацыя.</td></tr>
              <tr><td><code>lib/</code></td> <td>Модулі бібліятэк.</td></tr>
              <tr><td><code>log/</code></td> <td>Логі.</td></tr>
              <tr><td><code>public/</code></td> <td>Адзіная тэчка, каторая бачна &laquo;звонку&raquo;. У ёй утрымліваюцца выявы, <a href="../cssRef/index.html"><span class="term">CSS</span></a>-файлы, <a href="../jsRef/index.html"><span class="term">JavaScript</span></a>'ы і іншыя статычныя файлы.</td></tr>
              <tr><td><code>script/</code></td> <td>Скрыпты для старту і разгортваньня праграмы, для старту вэб-сэрверу і інш.</td></tr>
              <tr><td><code>test/</code></td> <td>Тэсты (юніт-тэсты, <i>fixtures</i> і інш.).</td></tr>
              <tr><td><code>tmp/</code></td> <td>Часовыя файлы.</td></tr>
              <tr><td><code>vendor/</code></td> <td>Староньні код, звычайна <a href="../rubyRef/index.html#Gems">гемы</a>.</td></tr>
              <tr><td><code>README</code></td> <td>Апісаньне і даведнік па праграме. Павінен утрымліваць інфармацыю як усталёўваць і карыстацца праграмай.</td></tr>
              <tr><td><code>Rakefile</code></td> <td>Файл утрымлівае batch-каманды, каторыя могуць быць запушчаныя пры дапамозе праграмы <code>rake</code> у тэрмінальным акне. Аналяг <code>build.xml</code> пры выкарыстаньні <a href="http://ant.apache.org/"><code>ant</code></a>.</td></tr>
              <tr><td><code>Gemfile</code></td> <td>Апісаньне гемаў, каторыя патрабуюцца праграме.</td></tr>
              <tr><td><code>config.ru</code></td> <td>Наладкі для Rack-сэрвероў, каторыя выкарыстоўваюцца для старта праграмы.</td></tr>
            </tbody>
          </table>  
        </p>
        
        <h3><a name="GettingStarted_NewProject_InstallingGems">Усталяваньне патрэбных гемаў</a></h3>
        <p>Rails-праграмы па змоўчаньні кіруюць <a href="../rubyRef/index.html#Gems">гемамі</a> і іх залежнасьцямі праз <a href="http://gembundler.com/">Bundler</a>. Як нам ня трэба ніякіх гемаў больш за тыя, што пазначаныя ў змоўчаным <code>Gemfile</code>, можна проста запусьціць наступную каманду, каб усталяваць іх:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        $ bundle install
        ]]></script>
        
        <h3><a name="GettingStarted_NewProject_ConfiguringDB">Наладжваньне базы даных</a></h3>
        <p>Мала якія Rails-праграмы могуць абыйсьціся без базы даных. Адпаведныя наладкі пазначаюцца ў файле <code>config/database.yml</code>. Калі паглядзець на зьмест гэтага файлу, то можна ўбачыць наладкі да змоўчанай базы даных <a href="http://www.sqlite.org/">SQLite3</a>. Гэты файл утрымлівае сэкцыі для 3-х розных асяродкаў, у каторых Rails можа запускацца па змоўчваньні:
          <ul>
            <li>асяродак <strong>распрацоўкі</strong> (<i>development</i>) выкарыстоўваецца непасрэдна пры распрацоўцы праграмы;</li>
            <li><strong>тэставы</strong> (<i>test</i>) асяродак выкарыстоўваецца пры запуску аўтаматычных тэстаў;</li>
            <li><strong>прадукцыйны</strong>/<strong>працоўны</strong> (<i>production</i>) асяродак выкарыстоўваецца пасьля разгортваньня праграмы на агульнадаступных сэрверах для мэтавага карыстаньня.</li>
          </ul>
        </p>
        
        <h4><a name="GettingStarted_NewProject_ConfiguringDB_SQLite3">SQLite3</a></h4>
        <p>Rails пастаўляецца з убудаванай падтрымкай <a href="http://www.sqlite.org/">SQLite3</a>, каторая зьяўляецца &laquo;лёгкай&raquo; базай даных, не патрабуючай для сваёй працы сэрвераў (так называемая <i>file-based</i>). Яна не патрабуе дадатковых крокаў па сваёй наладке і запуску, і таму зьяўляецца пажаданай для выкарыстаньня ў распрацоўшчыцкім і тэставым асяродках. Вось як выглядае прыкладнае наладжваньне базы SQLite3 у файле <code>config/database.yml</code> для распрацоўшчыцкага асяродку:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        development:
          adapter: sqlite3
          database: db/development.sqlite3
          pool: 5
          timeout: 5000
        ]]></script>
        <p>Акрамя SQLite3 у Rails убудавана выключная падтрымка яшчэ MySQL і PostgreSQL, а таксама маецца шэраг плагінаў для падтрымкі іншых базаў даных.</p>
        
        <h4><a name="GettingStarted_NewProject_ConfiguringDB_MySQL">MySQL</a></h4>
        <p>У выпадку выкарыстаньня <a href="http://mysql.com/">MySQL</a> у распрацоўшчыцкім асяродку наладкі ў <code>config/database.yml</code> будуць выглядаць наступным чынам:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        development:
          adapter: mysql2
          encoding: utf8
          database: blog_development
          pool: 5
          username: root
          password:
          socket: /tmp/mysql.sock
        ]]></script>
        <p>Для карыстальніка <i>root</i> без паролю. У выпадку іншых уваходных даных, зьмяніце іх адпаведна.</p>
        
        <h4><a name="GettingStarted_NewProject_ConfiguringDB_PostgreSQL">PostgreSQL</a></h4>
        <p>У выпадку выкарыстаньня <a href="http://www.postgresql.org/">PostgreSQL</a> наладкі будуць выглядаць наступным чынам:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        development:
          adapter: postgresql
          encoding: unicode
          database: blog_development
          pool: 5
          username: blog
          password:
        ]]></script>
        <p>Зьмяніце імя і пароль карыстальніка адпаведна вашай базе даных.</p>
        
        <h3><a name="GettingStarted_NewProject_CreatingDB">Стварэньне базы</a></h3>
        <p>Калі база даных наладжана, можна ствараць яе:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        $ rake db:create
        ]]></script>
        <p>Гэта створыць пустую базу ў тэчцы <code>db/</code>.</p>
        
        <h3><a name="GettingStarted_NewProject_StartingApp">Запуск праграмы</a></h3>
        <p>Засталося запусьціць вэб-сэрвер, каб пабачыць стартавую старонку аўтаматычна створанай па-змоўчаньні праграмы:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        $ rails server
        ]]></script>
        <p>Каб пабачыць вынік, трэба ў адрасным радку вэб-браўзэра набраць <a href="http://localhost:3000">http://localhost:3000</a>. Вы павінны пабачыць наступную старонку:</p>
        <img alt="Start page of Rails default application" title="Start page of Rails default application" src="../images/StartPageOfRoRDefaultApp.png"/>
      
        <h2><a name="GettingStarted_Git">Кантроль вэрсій з Git</a></h2>
        <p><strong>TODO</strong>: <a href="http://ruby.railstutorial.org/ruby-on-rails-tutorial-book#sec:version_control">http://ruby.railstutorial.org/ruby-on-rails-tutorial-book#sec:version_control</a></p>
        
        <h2><a name="GettingStarted_Deploying">Разгортваньне праграмы ў вытворчым асяродку</a></h2>
        <p><strong>TODO</strong>: <a href="http://ruby.railstutorial.org/ruby-on-rails-tutorial-book#sec:deploying">http://ruby.railstutorial.org/ruby-on-rails-tutorial-book#sec:deploying</a></p>
        
        <h2><a name="GettingStarted_FastDevelopingWithScaffold">Хуткая распрацоўка пры дапамозе Scaffold</a></h2>
        <p><strong>TODO</strong>: <a href="http://ruby.railstutorial.org/chapters/a-demo-app#top">http://ruby.railstutorial.org/chapters/a-demo-app#top</a></p>
        <p><a href="http://guides.rubyonrails.org/getting_started.html#creating-a-resource">http://guides.rubyonrails.org/getting_started.html#creating-a-resource</a></p>
      </section>

      <section>
        <h1><a name="Controllers">Кантролеры</a></h1>
        <div class="refs">
          <ul>
            <li><a href="http://guides.rubyonrails.org/action_controller_overview.html">Overview</a></li>
            <li><a href="http://guides.rubyonrails.org/routing.html">Routing</a></li>
          </ul>
        </div>
        
        <p>Калі праграма атрымлівае запыт на апрацоўку, модуль разводкі вызначае якіую дзею запусьціць і які кантролер за яе адказвае. Пасьля Rails стварае экзэмпляр таго кантролеру і выконвае яго мэтад, назва якога супадае з назвай дзеі. Напрыклад, калі карыстальнік набірае ў адрасным радку <code>/clients/new</code> для таго, каб дадаць новага кліента ў праграму, Rails створыць экзэмпляр кантролеру <code class="class">ClientsController</code> і выканае яго мэтад <code class="method">new</code>:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        class ClientsController < ApplicationController
          def new
          end
        end
        ]]></script>
        <aside><sup>1</sup> Больш падрабязна пра гэта глядзіце ў разьдзеле <a href="#Views_LayoutsRendering">Макеты і візуалізацыя ў Rails</a>.</aside>
        <p>Заўважце, што нават у выпадку пустога мэтаду, як у прыкладзе вышэй, праграма цудоўна адпрацуе, таму што Rails па змоўчаньні адлюструе вью <code>new.html.erb</code>. Мэтад <code class="method">new</code> можа прадставіць пераменную <code class="var">@client</code> адпаведнай мадэлі <code class="class">Client</code>, каторай можна будзе карыстацца ўва вью<sup>1</sup>:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        def new
          @client = Client.new
        end
        ]]></script>
        
        <h2><a name="Controllers_Parameters">Парамэтры</a></h2>
        <p>Часам у кантролерах трэба мець доступ да даных, пераданых карыстальнікам, ці да іншых парамэтраў праграмы. Існуе 2 віды парамэтраў, даступныя ў любой сеціўнай праграме. Першыя&nbsp;&mdash; дасылаемые ў складзе <abbr class="term" title="Uniform Resource Locator">URL</abbr>'а (<i>query string parameters</i>). Гэтыя парамэтры пазначаюцца ў адрасным радку праз пытальнік пасьля ўласна адрасу. Другі від парамэтраў перадаецца як частка <code>POST</code>-запыту і зьяўляецца звычайна данымі, каторыя карыстальнік увёў у <a href="../htmlRef/index.html"><span class="term">HTML</span></a>-форму. Нягледзячы на дзьве розныя прыроды гэтых парамэтраў, Rails не падзяляе іх і прадстаўляе аднолькавы да іх доступ&nbsp;&mdash; праз <a href="../rubyRef/index.html#Types_Hashes">Hash</a>-пераменную <code class="local_var">params</code>:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        class ClientsController < ActionController::Base
          # Гэтая дзея выкарыстоўвае парамэтры першага віду, таму што праграма трапляе сюды
          # праз GET-запыт. Сэнс гэтай дзеі - прагледзець усіх актыўных/неактыўных кліентаў і URL 
          # пры гэтым мог бы выглядаць наступным чынам: /clients?status=activated
          def index
            if params[:status] == "activated"
              @clients = Client.activated
            else
              @clients = Client.unactivated
            end
          end
         
          # Гэтая дзея выкарыстоўвае POST-парамэтры, каторыя хутчэй за ўсё прыйшлі
          # сюды з HTML-формы, каторую запоўніў карыстальнік. URL для гэтага
          # RESTful-запытў будзе выглядаць як "/clients", а даныя будуць дасланыя 
          # як частка цела запыту.
          def create
            @client = Client.new(params[:client])
            if @client.save
              redirect_to @client
            else
              # Гэты радок перавызначае змоўчныя паводзіны адлюстраваньня, каторыя
              # інакш адлюстравалі б "create"-вью.
              render :action => "new"
            end
          end
        end
        ]]></script>
        
        <h3><a name="Controllers_Parameters_HashesAndArrays">Хэшы і масівы ў якасьці парамэтраў</a></h3>
        <p>У якасьці парамэтраў могуць быць ня толькі дыскрэтныя значэньні, але і <a href="../rubyRef/index.html#Types_Hashes">хэшы</a> ды <a href="../rubyRef/index.html#Types_Arrays">масівы</a>. Каб пазначыць, што ў якасьці парамэтру перадаецца масіў, трэба да імені парамэтру дадаць "<code>[]</code>":</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        GET /clients?ids[]=1&ids[]=2&ids[]=3
        ]]></script>
        <p>У папярэднім прыкладзе значэньне <code>params[:ids]</code> будзе масіў <code>["1", "2", "3"]</code>.</p>
        <p>Каб пазначыць, што парамэтар&nbsp;&mdash; хэш, трэба ў квадратных дужках пазначыць яшчэ імя ключа:</p>
        <script type="syntaxhighlighter" class="brush: html"><![CDATA[
        <form action="/clients" method="post">
          <input type="text" name="client[name]" value="Acme" />
          <input type="text" name="client[phone]" value="12345" />
          <input type="text" name="client[address][postcode]" value="12345" />
          <input type="text" name="client[address][city]" value="Carrot City" />
        </form>
        ]]></script>
        <p>Калі пазначаная форма будзе дасланая, значэньне <code>params[:client]</code> будзе <code>{"name" => "Acme", "phone" => "12345", "address" => {"postcode" => "12345", "city" => "Carrot City"}}</code>. Зьвярніце ўвагу на наяўнасьць у дадзеным прыкладзе укладзенага хэшу <code>params[:client][:address]</code>.</p>
        
        
      </section>

      <section>
        <h1><a name="Views">Вью</a></h1>
        
        <h2><a name="Views_LayoutsRendering">Макеты і візуалізацыя ў Rails</a></h2>
        <div class="refs">
          <ul>
            <li><a href="http://guides.rubyonrails.org/layouts_and_rendering.html">Guide</a></li>
          </ul>
        </div>
        
        <h2><a name="Views_FormHelpers">Дапаможнікі формаў</a></h2>
        <div class="refs">
          <ul>
            <li><a href="http://guides.rubyonrails.org/form_helpers.html">Guide</a></li>
          </ul>
        </div>
        
      </section>

      <section>
        <h1><a name="Models">Мадэлі</a></h1>
        
        <h2><a name="Models_Migrations">Міграцыя даных</a></h2>
        <div class="refs">
          <ul>
            <li><a href="http://guides.rubyonrails.org/migrations.html">Guide</a></li>
          </ul>
        </div>
        <p>Пад міграцыяй даных у Rails разумеецца па-першае зьмена структуры даных (стварэньне/выдаленьне табліц і зьмена іх структуры):</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        class CreateProducts < ActiveRecord::Migration
          def self.up
            create_table :products do |t|
              t.string :name
              t.text :description
         
              t.timestamps
            end
          end
         
          def self.down
            drop_table :products
          end
        end
        ]]></script>
        <p>Запуск пазначанай вышэй міграцыі (<code class="class">ActiveRecord::Migration</code> падкляса) праз выкананьне мэтаду <code class="method">up</code> прывядзе да таго, што будзе створана табліца <code>products</code> з радковай калёнкай <code>name</code> і тэкставай калёнкай <code>description</code>. Акрамя гэтага па змоўчаньні будзе створана калёнка першаснага ключу <code>id</code>, нават без яўнага пазначэньня. Таксама будуць створаны калёнкі часаадзнакі <code>created_at</code> і <code>updated_at</code>, зьмест каторых <a href="#GettingStarted_what_is_Components_Active_Record"><cite>Active Record</cite></a> будзе зьмяняць аўтаматычна. Створаныя міграцыяй зьмены могуць быць адкочаны праз выклік мэтаду <code class="method">down</code>, у дадзеным выпадку&nbsp;&mdash; праз выдаленьне табліцы <code>products</code>.</p>
        <p>Таксама міграцыямі можна зьмяняць ня толькі структуру, але і самі даныя:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        class AddReceiveNewsletterToUsers < ActiveRecord::Migration
          def self.up
            change_table :users do |t|
              t.boolean :receive_newsletter, :default => false
            end
            User.update_all ["receive_newsletter = ?", true]
          end
         
          def self.down
            remove_column :users, :receive_newsletter
          end
        end
        ]]></script>
        <p>У прыкладзе вышэй да табліцы <code>users</code> будзе дададзена калёнка <code>receive_newsletter</code>, якая па змоўчаньні будзе запаўняцца значэньнямі <code>false</code>, але ў існых запісах табліцы гэтая калёнка будзе запоўнена значэньнем <code>true</code>.</p>
        <p>Для базаў даных, каторыя падтрымліваюць транзакцыі (<a href="http://www.postgresql.org/">PostgreSQL</a>, <a href="http://www.sqlite.org/">SQLite3</a>), міграцыі будуць абгорнуты ў транзакцыю. Калі ж база не падтрымлівае такія транзакцыі (<a href="http://mysql.com/">MySQL</a>), тады ў выпадку памылкі зьмены, каторыя адбыліся да памылкі, ня будуць адменены аўтаматычна і іх адкат трэба будзе рабіць &laquo;рукамі&raquo;.</p>
        <p>Міграцыі захоўваюцца ў тэчцы <code>db/migrate</code> і маюць выгляд фармату "<code>YYYYMMDDHHMMSS_імя_клясы_міграцыі.rb</code>", дзе "<code>YYYYMMDDHHMMSS</code>"&nbsp;&mdash; дата і час міграцыі, пасьля якой праз знак падкрэсьліваньня ідзе імя міграцыі, каторае павінна супадаць зь імем адпаведнай клясы. Напрыклад, файл міграцыі <code>20080906120000_create_products.rb</code> павінен утрымліваць клясу міграцыі <code>CreateProducts</code>. Дата і час у назьве файла неабходны Rails&#39;у для ідэнтыфікацыі міграцыі. Гэты ідэнтыфікатар нараўне з адзнакамі якія міграцыі ўжо былі выкананы дазваляе правільна апрацоўваць складаныя сытуацыі пры распрацоўцы праграмы некалькімі распрацоўшчыкамі. Хаця апошняе, натуральна, не пазбаўляе чальцоў каманды ад неабходнасьці ўзгадняць свае дзеяньні.</p>
        <p>Пры патрэбе зьмяніць міграцыю, каторая ўжо была выканана, не магчыма проста ўнесьці ў яе зьмены і выканаць ізноў&nbsp;&mdash; Rails у адпаведнасьці з запісамі ў сваім журнале пабачыць, што такая міграцыя ўжо выконвалася і нічога ня зробіць у выпадку запуску каманды <code>rake db:migrate</code>. Трэба спачатку адмяніць міграцыю (<code>rake db:rollback</code>), унесьці неабходныя зьмены і потым ізноў выканаць яе.</p>
        <p>Пры гэтым памятайце, што калі зьявілася неабходнасьць зьмяніць ужо існую міграцыю&nbsp;&mdash; ці то праз памылку, ці то праз новыя акалічнасьці, дазваляецца рабіць гэта толькі ў выпадках, калі яна ўяўляе зь сябе лякальную вэрсію&nbsp;&mdash; не запісана яшчэ ў сыстэму кантролю вэрсій для каманднага карыстаньня, ці, што асабліва важна, не была шчэ ўжыта ў вытворчым асяродку. Калі ж міграцыя ўсё ж была ўжыта, лепш стварыць новую міграцыю, у якую прапісаць неабходныя зьмены.</p>
        
        <h3><a name="Models_Migrations_Creating">Стварэньне міграцыяў</a></h3>
        <p>Пры стварэньні мадэляў ці пры карыстаньні <i>scaffold</i>-генератарамі міграцыі будуць створаны аўтаматычна. Напрыклад, у выніку выкананьня каманды:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        rails generate model Product name:string description:text
        ]]></script>
        <p>будзе створана міграцыя:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        class CreateProducts < ActiveRecord::Migration
          def self.up
            create_table :products do |t|
              t.string :name
              t.text :description
         
              t.timestamps
            end
          end
         
          def self.down
            drop_table :products
          end
        end
        ]]></script>
        <p><code>t.timestamps</code> будзе дададзена нават, калі гэта не пазначыць у камандзе стварэньня мадэлі.</p>
        <p>Калі ж трэба стварыць міграцыю для ўжо існай мадэлі (табліцы ў базе) тады можна скарыстацца генератарам міграцыі:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        rails generate migration AddPartNumberToProducts
        ]]></script>
        <p>У выніку выкананьня папярэдныя каманды будзе створана пустая міграцыя:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        class AddPartNumberToProducts < ActiveRecord::Migration
          def self.up
          end
         
          def self.down
          end
        end
        ]]></script>
        <p>Калі імя міграцыі адпавядае фарматам "<code>AddXXXToYYY</code>" ці "<code>RemoveXXXFromYYY</code>" і пасьля імені міграцыі ў камандзе ідзе сьпіс палёў зь іх тыпамі, тады ў міграцыю будуць устаўлены выклікі адпаведных мэтадаў: <code class="method">add_column</code> ці <code class="method">remove_column</code>. Напрыклад, пасьля выкананьня:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        rails generate migration AddDetailsToProducts part_number:string price:decimal
        ]]></script>
        <p>будзе створана міграцыя:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        class AddDetailsToProducts < ActiveRecord::Migration
          def self.up
            add_column :products, :part_number, :string
            add_column :products, :price, :decimal
          end
         
          def self.down
            remove_column :products, :price
            remove_column :products, :part_number
          end
        end
        ]]></script>
        
        <h3><a name="Models_Migrations_Writing">Састаўленьне міграцыяў</a></h3>
        <div class="refs">
          <ul>
            <li><a href="http://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/SchemaStatements.html">Мэтады</a></li>
          </ul>
        </div>
        <p>Па спасылцы зьлева можна даведацца пра ўсе мэтады, каторыя даступны ў мэтадах <code class="method">up</code> і <code class="method">down</code> міграцыяў.</p>
        
        <h4><a name="Models_Migrations_Writing_CreatingTable">Стварэньне табліцаў</a></h4>
        <div class="refs">
          <ul>
            <li><a href="http://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/TableDefinition.html">Мэтады</a></li>
          </ul>
        </div>
        <p>Табліцы можна ствараць пры дапамозе мэтаду <code class="method">create_table</code> (па спасылцы зьлева можна даведацца пра ўсе мэтады, каторыя даступны аб&#39;екту, які перадаецца ў блёк мэтаду <code class="method">create_table</code>):</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        create_table :products do |t|
          t.string :name
        end
        ]]></script>
        <p>Стварэньне калёнкі ў папярэднім прыкладзе запісана сучасным спосабам, існуе шчэ традыцыйны спосаб:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        create_table :products do |t|
          t.column :name, :string
        end
        ]]></script>
        <p>Па-змоўчаньні мэтад <code class="method">create_table</code> створыць у новай табліцы першасны ключ <code>id</code>. Калі імя першаснага ключа трэба зьмяніць, трэба яўна ўставіць выраз стварэньня гэтага поля і пазначыць для яго опцыю <code>:primary_key</code>.</p>
        <p>Тыпы калёнак, каторыя падтрымліваюцца <a href="#GettingStarted_what_is_Components_Active_Record"><cite>Active Record</cite></a> наступныя:
          <ul>
            <li><code>:primary_key</code></li>
            <li><code>:string</code></li>
            <li><code>:text</code></li>
            <li><code>:integer</code></li>
            <li><code>:float</code></li>
            <li><code>:decimal</code></li>
            <li><code>:datetime</code></li>
            <li><code>:timestamp</code></li>
            <li><code>:time</code></li>
            <li><code>:date</code></li>
            <li><code>:binary</code></li>
            <li><code>:boolean</code></li>
          </ul>
        </p>
        <p>Гэтыя тыпы будуць аўтаматычна пераўтварацца ў тыпы базы, каторая ўжываецца на цяперашні момант. Напрыклад, у выпадку <a href="http://mysql.com/">MySQL</a> тып <code>:string</code> будзе пераўтвораны ў <code>VARCHAR(255)</code>. Акрамя гэтага можна пазначаць тыпы, якія не падтрымліваюцца <a href="#GettingStarted_what_is_Components_Active_Record"><cite>Active Record</cite></a> праз традыцыйную запіс стварэньня калёнак:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        create_table :products do |t|
          t.column :name, 'polygon', :null => false
        end
        ]]></script>
        
        <h4><a name="Models_Migrations_Writing_ChangingTable">Зьмена табліцаў</a></h4>
        <div class="refs">
          <ul>
            <li><a href="http://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/Table.html">Мэтады</a></li>
          </ul>
        </div>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        change_table :products do |t|
          t.remove :description, :name
          t.string :part_number
          t.index :part_number
          t.rename :upccode, :upc_code
        end
        ]]></script>
        <p>У папярэднім прыкладзе з табліцы <code>products</code> будуць выдаленыя калёнкі <code>description</code> і <code>name</code>, устаўлена калёнка <code>part_number</code>, да каторай будзе дададзен індэкс, а калёнка <code>upccode</code> будзе перайменавана ў <code>upc_code</code>. Тое ж сама ў традыцыйнай форме будзе:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        remove_column :products, :description
        remove_column :products, :name
        add_column :products, :part_number, :string
        add_index :products, :part_number
        rename_column :products, :upccode, :upc_code        
        ]]></script>
        
        <h4><a name="Models_Migrations_Writing_Helpers">Дапаможнікі</a></h4>
        <p>Існуе шэраг мэтадаў-дапаможнікаў, якія спрашчаюць напісаньне міграцыяў. Напрыклад, згаданы вышэй <code class="method">timestamps</code>, каторы дадае ў табліцу аб&#39;яўленьні калёнак <code>created_at</code> і <code>updated_at</code>. Яшчэ адзін мэтад-дапаможнік&nbsp;&mdash; <code class="method">references</code>, у каторага існуе псэўданім <code class="method">belongs_to</code>. Ён дадае апісаньне калёнкі, якая зьяўляецца зьнешнім ключом да іншай табліцы. Наступны прыклад:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        create_table :products do |t|
          t.references :category
        end        
        ]]></script>
        <p>дадасьць калёнку <code>category_id</code> адпаведнага тыпу. Зьвярніце ўвагу, што ў мэтад перадаецца імя мадэлі (<code>category</code>), а не імя калёнкі (<code>category_id</code>), пры гэтым <code>_id</code> будзе дадано аўтаматычна. Яшчэ вельмі істотная заўвага&nbsp;&mdash; у выпадку выкананьня гэтага мэтаду будзе проста дадана калёнка адпаведнай назвы і тыпу, але ня будзе ўстаўлены неабходны <i>constraint</i> праверкі цэласнасьці ключоў. Зрабіць гэта трэба альбо праз выклік адпаведнага &laquo;сырога&raquo; SQL (глядзі ў <a href="#Models_Migrations_Writing_DownMethod">прыкладзе ніжэй</a>), альбо праз карыстаньне дадаткам <a href="http://rubydoc.info/gems/automatic_foreign_key/1.2.0/frames/"><i>Automatic Foreign Key</i></a>. Згаданы дадатак у самым простым выпадку лічыць, што калі ў вас ёсьць калёнка <code>customer_id</code>, вы жадаеце, каб быў створаны <i>foreign key constraint</i> на калёнку <code>id</code> табліцы <code>customers</code>:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        create_table :orders do |t|
          t.column :customer_id, :integer, :null => false
          ...
        end        
        ]]></script>
          
        <h4><a name="Models_Migrations_Writing_DownMethod">Мэтад <code class="method">down</code></a></h4>
        <p>Мэтад <code class="method">down</code> міграцыі павінен адкочваць тое, што было зроблена мэтадам <code class="method">up</code>. Іншымі словамі стан базы павінен застацца нязьменным у выніку пасьлядоўнага выкананьня мэтадаў <code class="method">up</code> і <code class="method">down</code>. Прычым апошні павінен рабіць адкочваньне зьменаў у зваротным парадку ў параўнаньні з тым, каторы быў ў мэтадзе <code class="method">up</code>:</p>
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        class ExampleMigration < ActiveRecord::Migration
         
          def self.up
            create_table :products do |t|
              t.references :category
            end
            #add a foreign key
            execute <<-SQL
              ALTER TABLE products
                ADD CONSTRAINT fk_products_categories
                FOREIGN KEY (category_id)
                REFERENCES categories(id)
            SQL
         
            add_column :users, :home_page_url, :string
         
            rename_column :users, :email, :email_address
          end
         
          def self.down
            rename_column :users, :email_address, :email
            remove_column :users, :home_page_url
            execute "ALTER TABLE products DROP FOREIGN KEY fk_products_categories"
            drop_table :products
          end
        end        
        ]]></script>
        <p>Часам дзеяньні міграцыяў могуць быць незваротнымі&nbsp;&mdash; напрыклад, выдаленьне паўных даных. У такім разе, мэтад <code class="method">down</code> нічога не павінен рабіць, а толькі кідаць выключэньне <code>IrreversibleMigration</code>.</p>
        
        <h3><a name="Models_Migrations_Running">Выкананьне міграцыяў</a></h3>
        <p><i>Rake</i>-каманда <code>db:migrate</code> запускае ўсе міграцыі, каторыя яшчэ не былі выкананы. Яна ў сваю чаргу запусьціць каманду <code>db:schema:dump</code>, каторая зьменіць файл <code>db/schema.rb</code>, каб ён адпавядаў новай структуры базы. Для выкананьня ня проста ўсіх новых міграцыяў, але для пераходу да пэўнага стану, трэба пазначыць адпаведную вэрсію:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        rake db:migrate VERSION=20080906120000       
        ]]></script>
        <p>Вэрсія&nbsp;&mdash; гэта часаадзнакавы прэфікс перад імем міграцыі ў імені файла міграцыі. У выпадку, калі пазначаная вэрсія больш за цяперашнюю, будуць запушчаны мэтады <code class="method">up</code> у тых міграцыяў, каторыя яшчэ не былі выкананы і чыя вэрсія менш ці роўная пазначанай у камандзе. Калі ж мы пазначаем вэрсію меншую за цяперашнюю (то бок робім адкочваньне), тады будзе выкананы мэтад <code class="method">down</code> у тых міграцыяў, каторыя ўжо былі выкананы і вэрсія каторых большая за пазначаную ў камандзе.</p>
        <p>Калі трэба выканаць/адкаціць ня проста <em>ўсе</em> міграцыі да пэўнай вэрсіі, але мэтад <code class="method">up</code> ці <code class="method">down</code> пэўнай адзінай міграцыі, тады трэба карыстацца камандамі <code>db:migrate:up</code> і <code>db:migrate:down</code>:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        rake db:migrate:up VERSION=20080906120000       
        ]]></script>
        <p>Прычым Rails сам правярае ці карэктная гэта каманда. То бок, калі пэўная міграцыя ўжо была выканана і мы спрабуем для яе запусьціць каманду <code>db:migrate:up</code>, ці, калі пэўная міграцыя яшчэ не была выканана і мы спрабуем для яе запусьціць каманду <code>db:migrate:down</code>, то ў абодвух выпадках нічога ня будзе зроблена.</p>
        <p>Для адкочваньня апошняй(-іх) міграцыі(-яў) ёсьць дапаможны мэтад <code class="method">rollback</code>. Наступная каманда зробіць адкат апошняй выкананай міграцыі:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        rake db:rollback       
        ]]></script>
        <p>Каб зрабіць адкат некалькіх апошніх міграцыяў дастаткова пазначыць іх колькасьць у парамэтры <code>STEP</code>. Наступная каманда адкоціць 3 апошніх міграцыі:</p>        
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        rake db:rollback STEP=3      
        ]]></script>
        <aside><sup>2</sup> Але гэта ня тое ж самае, што выканаць усе міграцыі. Інфармацыю наконт гэтага глядзіце ніжэй.</aside>
        <p>І яшчэ адна дапаможная каманда: <code>db:reset</code>. Яна выдаліць базу, створыць яе зноўку і загрузіць туды актуальную схему<sup>2</sup>.</p>
        
        <h4><a name="Models_Migrations_Running_Verbose">Вывад інфармацыі а хадзе міграцыі</a></h4>
        <p>Па змоўчаньні пры выкананьні міграцыі ў кансоль будзе вывадзіцца трасіровачная інфармацыя а хадзе міграцыі. Нешта кшталту:</p>
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        20080906170109 CreateProducts: migrating
        -- create_table(:products)
           -> 0.0021s
        -- add_index(:products, :name)
           -> 0.0026s
        20080906170109 CreateProducts: migrated (0.0059s)      
        ]]></script>
        <p>Існуе шэраг мэтадаў, каторыя могуць уплываць на гэты працэс:
          <ul>
            <li><code class="method">suppress_messages</code>&nbsp;&mdash; падаўляе вывад любой трасіровачнай інфармацыі ў сваім блёку;</li>
            <li><code class="method">say</code>&nbsp;&mdash; выводзіць тэкст, каторы перадаецца ў якасьці парамэтру;</li>
            <li><code class="method">say_with_time</code>&nbsp;&mdash; выводзіць тэкст, каторы перадаецца ў якасьці парамэтру, потым час, каторы выконваўся яго блёк, і ў выпадку, калі блёк вяртае цэлы лік, лічыць, што гэта колькасьць задзейнічаных міграцыяй радкоў.</li>
          </ul>
        </p>
        <p>Напрыклад, міграцыя:</p>        
        <script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
        class CreateProducts < ActiveRecord::Migration
          def self.up
            suppress_messages do
              create_table :products do |t|
                t.string :name
                t.text :description
                t.timestamps
              end
            end
            say "Created a table"
            suppress_messages {add_index :products, :name}
            say "and an index!", true
            say_with_time 'Waiting for a while' do
              sleep 10
              250
            end
          end
         
          def self.down
            drop_table :products
          end
        end
        ]]></script>
        <p>прывядзе да наступнага вываду:</p>        
        <script type="syntaxhighlighter" class="brush: text"><![CDATA[
        20080906170109 CreateProducts: migrating
          Created a table
           -> and an index!
          Waiting for a while
           -> 10.0001s
           -> 250 rows
        20080906170109 CreateProducts: migrated (10.0097s)
        ]]></script>
        <p>Калі ж вы жадаеце, каб міграцыя ўвогуле не рабіла ніякага вываду, запускаць яе трэба з опцыяй <code>VERBOSE=false</code>.</p>
        
        <h3><a name="Models_Migrations_UsingModels">Выкарыстаньне мадэляў у міграцыях</a></h3>
        <div class="refs">
          <ul>
            <li><a href="http://guides.rubyonrails.org/migrations.html#using-models-in-your-migrations">Чаму не?</a></li>
          </ul>
        </div>
        <p>Гэтага рабіць вельмі не пажадана! Чаму і якія існуюць рашэньні абыходу праблемы глядзі па спасылцы зьлева.</p>
        
        <h3><a name="Models_Migrations_Dumps">Адбіткі схемаў</a></h3>
        <div class="refs">
          <ul>
            <li><a href="http://guides.rubyonrails.org/migrations.html#schema-dumping-and-you">Dumps</a></li>
          </ul>
        </div>
        <p>Што такое <code>db/schema.rb</code> і як рабіць міграцыю цалкам усёй схемы глядзі па спасылцы зьлева.</p>
              
        <h2><a name="Models_ValidationsCallbacks">Валідацыя даных і зваротныя выклікі</a></h2>
        <div class="refs">
          <ul>
            <li><a href="http://guides.rubyonrails.org/active_record_validations_callbacks.html">Guide</a></li>
          </ul>
        </div>
        
        <h2><a name="Models_Associations">Асацыяцыі</a></h2>
        <div class="refs">
          <ul>
            <li><a href="http://guides.rubyonrails.org/association_basics.html">Guide</a></li>
          </ul>
        </div>
        
        <h2><a name="Models_Querying">Састаўленьне запытаў</a></h2>
        <div class="refs">
          <ul>
            <li><a href="http://guides.rubyonrails.org/active_record_querying.html">Guide</a></li>
          </ul>
        </div>

      </section>


      <section>
        <h1><a name="Security">Бясьпека</a></h1>
        
        <h2><a name="Security_Sessions">Сэсіі</a></h2>
        <p>restful_authentication: <a href="http://railscasts.com/episodes/67-restful-authentication">http://railscasts.com/episodes/67-restful-authentication</a>, 
          <a href="http://agilewebdevelopment.com/plugins/restful_authentication">http://agilewebdevelopment.com/plugins/restful_authentication</a>, 
          <a href="https://github.com/technoweenie/restful-authentication">https://github.com/technoweenie/restful-authentication</a>, 
          <a href="http://snippets.aktagon.com/snippets/167-How-to-install-and-use-the-restful-authentication-Rails-plugin">http://snippets.aktagon.com/snippets/167-How-to-install-and-use-the-restful-authentication-Rails-plugin</a>
        </p>
        <p>authlogic: <a href="https://github.com/binarylogic/authlogic">https://github.com/binarylogic/authlogic</a>, 
          <a href="https://github.com/binarylogic/authlogic_example">https://github.com/binarylogic/authlogic_example</a>, 
          <a href="http://railscasts.com/episodes/160-authlogic">http://railscasts.com/episodes/160-authlogic</a>
        </p>
      
        <p>Sessions: <a href="http://errtheblog.com/posts/22-sessions-n-such">http://errtheblog.com/posts/22-sessions-n-such</a>, 
          <a href="http://www.neeraj.name/2009/05/04/how-cookie-stores-session-data-in-rails.html">http://www.neeraj.name/2009/05/04/how-cookie-stores-session-data-in-rails.html</a>
        </p>
      
        <p>encrypted_cookie_store: <a href="https://github.com/FooBarWidget/encrypted_cookie_store">https://github.com/FooBarWidget/encrypted_cookie_store</a>
        </p>

        <p>sessions in DB: <a href="http://stackoverflow.com/questions/2588241/rails-sessions-current-practices-especially-for-rails-3">http://stackoverflow.com/questions/2588241/rails-sessions-current-practices-especially-for-rails-3</a>
        </p>

      </section>
      
      <footer>
        <div id="powered">
          <h5>Падзякі</h5>
          <p>Пры састаўленьні даведніка выкарыстоўваліся наступныя скрыпты, за якія аўтар выказвае свае падзякі іх аўтарам:
            <ul>
              <li><a href="http://jquery.com/">jQuery</a>&nbsp;&mdash; унівэрсальная JavaScript-бібліятэка</li>
              <li><a href="http://www.caodesigns.com/blog/free-stuff/jquery-active-menu-plugin-2.php">Active Menu</a>&nbsp;&mdash; дадатак да jQuery, каб пазначаць цяперашні разьдзел у каталёгу даведнікаў</li>
              <li><a href="http://xregexp.com/">XRegExp</a>&nbsp;&mdash; JavaScript-бібліятэка для рэгулярных выразаў (regexp)</li>
              <li><a href="http://www.mattkruse.com/javascript/mktree/">DHTML Tree</a>&nbsp;&mdash; скрыпт для пабудовы герархічнага дрэва разьдзелаў даведніка злева.</li>
              <li><a href="http://alexgorbatchev.com/SyntaxHighlighter/">SyntaxHighlighter</a>&nbsp;&mdash; скрыпт для каляроўкі фрагмэнтаў коду пэўных моваў/скрыптоў.</li>
            </ul>
          </p>
        </div>
        <div id="copyright">
          <p>Copyright &copy; 2010-2011 <a href="http://www.yurtsevich.info">yurtsevich.info</a></p>
          <p>
            <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.be">
              <img src="http://i.creativecommons.org/l/by-nc/3.0/88x31.png"
                  style="border-style: none;" alt="Common Creatives. Attribution + Noncommercial (by-nc)" />
            </a>
          </p>
          <p><cite>Тэхнічны даведнік па Rails</cite> публікуецца пад ліцензіяй <cite>Commons Creative Attribution-NonCommercial 3.0 Unported (CC BY-NC 3.0)</cite>. Вы вольны ў тым, як выкарыстоўваць гэтую працу, у тым ліку капіяваць, распаўсюджваць і зьмяняць яе на свой капыл. Але <strong>толькі ў некамэрцыйных мэтах</strong> і <strong>абавязкова з пазнакай <a href="http://www.yurtsevich.info/refs/railsRef/index.html">крыніцы</a></strong> матэрыялу.</p>
        </div>
      </footer>
    </article>
  </div> <!--! end of #container -->


  <!-- Javascript at the bottom for fast page loading -->

  <!-- GetSatisfaction feedback button BEGIN -->
  <script type="text/javascript" charset="utf-8">
    var is_ssl = ("https:" == document.location.protocol);
    var asset_host = is_ssl ? "https://s3.amazonaws.com/getsatisfaction.com/" : "http://s3.amazonaws.com/getsatisfaction.com/";
    document.write(unescape("%3Cscript src='" + asset_host + "javascripts/feedback-v2.js' type='text/javascript'%3E%3C/script%3E"));
  </script>

  <script type="text/javascript" charset="utf-8">
    var feedback_widget_options = {};
  
    feedback_widget_options.display = "overlay";  
    feedback_widget_options.company = "yurtsevich";
    feedback_widget_options.placement = "right";
    feedback_widget_options.color = "#222";
    feedback_widget_options.style = "problem";
  
    var feedback_widget = new GSFN.feedback_widget(feedback_widget_options);
  </script>
  <!-- GetSatisfaction feedback button END -->

  <!-- Grab Google CDN's jQuery. fall back to local if necessary -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="../js/libs/jquery-1.4.2.js"%3E%3C/script%3E'))</script>
    
  <script src="../js/mylibs/jquery.activeMenu.js"></script>
  <script>
    $(document).ready(function(){ 
      $('#main_index ul').activeMenu(); 
    }); 
  </script>

  <script src="../js/mylibs/mktree.js"></script>
  <script src="../js/mylibs/xregexp.js"></script>
  <script src="../js/mylibs/shCore.js"></script> 
  <script src="../js/mylibs/shAutoloader.js"></script>
  <script type="text/javascript">
    function path()
    {
      var args = arguments,
          result = []
          ;
       
      for(var i = 0; i < args.length; i++)
          result.push(args[i].replace('@', '../js/mylibs/'));
           
      return result
    };
 
    SyntaxHighlighter.autoloader.apply(null, path(
      'applescript            @shBrushAppleScript.js',
      'actionscript3 as3      @shBrushAS3.js',
      'bash shell             @shBrushBash.js',
      'coldfusion cf          @shBrushColdFusion.js',
      'cpp c                  @shBrushCpp.js',
      'c# c-sharp csharp      @shBrushCSharp.js',
      'css                    @shBrushCss.js',
      'delphi pascal          @shBrushDelphi.js',
      'diff patch pas         @shBrushDiff.js',
      'erl erlang             @shBrushErlang.js',
      'groovy                 @shBrushGroovy.js',
      'java                   @shBrushJava.js',
      'jfx javafx             @shBrushJavaFX.js',
      'js jscript javascript  @shBrushJScript.js',
      'perl pl                @shBrushPerl.js',
      'php                    @shBrushPhp.js',
      'text plain             @shBrushPlain.js',
      'py python              @shBrushPython.js',
      'ruby rails ror rb      @shBrushRuby.js',
      'sass scss              @shBrushSass.js',
      'scala                  @shBrushScala.js',
      'sql                    @shBrushSql.js',
      'vb vbnet               @shBrushVb.js',
      'xml xhtml xslt html    @shBrushXml.js'
    ));
    
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.all();
  </script>  
    
  <!-- scripts concatenated and minified via ant build script-->
  <script src="../js/plugins.js"></script>
  <script src="../js/script.js"></script>
  <!-- end concatenated and minified scripts-->
  
  
  <!--[if lt IE 7 ]>
    <script src="js/libs/dd_belatedpng.js"></script>
    <script> DD_belatedPNG.fix('img, .png_bg'); //fix any <img> or .png_bg background-images </script>
  <![endif]-->

  <!-- yui profiler and profileviewer - remove for production -->
  <script src="../js/profiling/yahoo-profiling.min.js"></script>
  <script src="../js/profiling/config.js"></script>
  <!-- end profiling code -->


  <!-- asynchronous google analytics: mathiasbynens.be/notes/async-analytics-snippet 
       change the UA-XXXXX-X to be your site's ID -->
  <script>
   var _gaq = [['_setAccount', 'UA-18077954-1'], ['_trackPageview']];
   (function(d, t) {
    var g = d.createElement(t),
        s = d.getElementsByTagName(t)[0];
    g.async = true;
    g.src = ('https:' == location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g, s);
   })(document, 'script');
  </script>
  
  <script src="http://static.getclicky.com/js" type="text/javascript"></script>
  <script type="text/javascript">clicky.init(17136);</script>
</body>
</html>